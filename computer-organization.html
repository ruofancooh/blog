<!DOCTYPE html>

<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width" name="viewport"/>
<meta content="#222" name="theme-color"/><meta content="Hexo 6.3.0" name="generator"/>
<link href="/blog/css/main.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" rel="stylesheet"/>
<script class="next-config" data-name="main" type="application/json">{"hostname":"hrfis.me","root":"/blog/","images":"/blog/images","scheme":"Gemini","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"flat"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":true,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","sidebar":"fadeInLeft"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/blog/js/config.js"></script>
<meta content="计算机基础不牢。" name="description"/>
<meta content="article" property="og:type"/>
<meta content="计算机组成原理" property="og:title"/>
<meta content="https://hrfis.me/blog/computer-organization.html" property="og:url"/>
<meta content="若凡的笔记" property="og:site_name"/>
<meta content="计算机基础不牢。" property="og:description"/>
<meta content="zh_CN" property="og:locale"/>
<meta content="2024-03-02T10:20:00.000Z" property="article:published_time"/>
<meta content="2024-08-17T13:07:54.696Z" property="article:modified_time"/>
<meta content="Ruofan" property="article:author"/>
<meta content="summary" name="twitter:card"/>
<link href="https://hrfis.me/blog/computer-organization" rel="canonical"/>
<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://hrfis.me/blog/computer-organization.html","path":"/computer-organization.html","title":"计算机组成原理"}</script>
<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>计算机组成原理 | 若凡的笔记</title>
<noscript>
<link href="/blog/css/noscript.css" rel="stylesheet"/>
</noscript>
</head>
<body itemscope="" itemtype="http://schema.org/WebPage">
<div class="headband"></div>
<main class="main">
<div class="column">
<header class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
<div class="site-nav-toggle">
<div aria-label="切换导航栏" class="toggle" role="button">
<span class="toggle-line"></span>
<span class="toggle-line"></span>
<span class="toggle-line"></span>
</div>
</div>
<div class="site-meta">
<a class="brand" href="/blog/" rel="start">
<i class="logo-line"></i>
<p class="site-title">若凡的笔记</p>
<i class="logo-line"></i>
</a>
</div>
<div class="site-nav-right">
<div aria-label="搜索" class="toggle popup-trigger" role="button">
</div>
</div>
</div>
<nav class="site-nav">
<ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/blog/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
</ul>
</nav>
</header>
<aside class="sidebar">
<div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
<ul class="sidebar-nav">
<li class="sidebar-nav-toc">
          文章目录
        </li>
<li class="sidebar-nav-overview">
          站点概览
        </li>
</ul>
<div class="sidebar-panel-container">
<!--noindex-->
<div class="post-toc-wrap sidebar-panel">
<div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BA%94%E8%AF%95%E6%8A%80%E5%B7%A7%E6%B3%A8%E6%84%8F%E8%BF%99%E9%87%8C%E7%9A%84%E7%9F%A5%E8%AF%86%E6%98%AF%E6%9C%AA%E7%BB%8F%E9%AA%8C%E8%AF%81%E7%9A%84%E4%B8%8D%E4%B8%80%E5%AE%9A%E6%AD%A3%E7%A1%AE"><span class="nav-number">1.</span> <span class="nav-text">应试技巧（注意：这里的知识是未经验证的，不一定正确）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E6%A6%82%E8%AE%BA"><span class="nav-number">1.1.</span> <span class="nav-text">计算机体系概论</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E6%96%B9%E6%B3%95%E5%92%8C%E8%BF%90%E7%AE%97%E5%99%A8"><span class="nav-number">1.2.</span> <span class="nav-text">运算方法和运算器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.3.</span> <span class="nav-text">存储系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.4.</span> <span class="nav-text">指令系统</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cpu-%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="nav-number">2.</span> <span class="nav-text">CPU 性能指标</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%AA%E5%AD%97%E8%8A%82%E8%AE%B0%E5%BD%95%E6%95%B4%E6%95%B0"><span class="nav-number">3.</span> <span class="nav-text">使用一个字节记录整数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%90%E4%BD%8D%E8%BF%9B%E4%BD%8D%E5%8A%A0%E6%B3%95%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="nav-number">4.</span> <span class="nav-text">逐位进位加法器的实现</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%99%AE%E9%80%9A%E5%8D%81%E8%BF%9B%E5%88%B6%E6%95%B0%E8%BD%AC%E5%8D%95%E7%B2%BE%E5%BA%A6%E6%B5%AE%E7%82%B9%E6%95%B0"><span class="nav-number">5.</span> <span class="nav-text">普通十进制数转单精度浮点数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%8B%E4%B8%80"><span class="nav-number">5.1.</span> <span class="nav-text">例一</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%8B%E4%BA%8C"><span class="nav-number">5.2.</span> <span class="nav-text">例二</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E9%AA%8C%E8%AF%81"><span class="nav-number">5.3.</span> <span class="nav-text">如何验证</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%81%E8%BF%9B%E5%88%B6%E4%B8%8E-k-%E8%BF%9B%E5%88%B6%E5%B0%8F%E6%95%B0%E4%BA%92%E8%BD%AC"><span class="nav-number">6.</span> <span class="nav-text">十进制与 K 进制小数互转</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AC-10"><span class="nav-number">6.1.</span> <span class="nav-text">2 转 10</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AC-2"><span class="nav-number">6.2.</span> <span class="nav-text">10 转 2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AC-16"><span class="nav-number">6.3.</span> <span class="nav-text">10 转 16</span></a></li></ol></li></ol></div>
</div>
<!--/noindex-->
<div class="site-overview-wrap sidebar-panel">
<div class="site-author animated" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<p class="site-author-name" itemprop="name">Ruofan</p>
<div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
<nav class="site-state">
<div class="site-state-item site-state-posts">
<a href="/blog/">
<span class="site-state-item-count">37</span>
<span class="site-state-item-name">笔记</span>
</a>
</div>
<div class="site-state-item site-state-categories">
<a href="/blog/categories/">
<span class="site-state-item-count">3</span>
<span class="site-state-item-name">分类</span></a>
</div>
</nav>
</div>
</div>
</div>
</div>
</aside>
</div>
<div class="main-inner post posts-expand">
<div class="post-block">
<article class="post-content" itemscope="" itemtype="http://schema.org/Article" lang="zh-CN">
<link href="https://hrfis.me/blog/computer-organization.html" itemprop="mainEntityOfPage"/>
<span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<meta content="/blog/images/avatar.gif" itemprop="image"/>
<meta content="Ruofan" itemprop="name"/>
</span>
<span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="若凡的笔记" itemprop="name"/>
<meta content="" itemprop="description"/>
</span>
<span hidden="" itemprop="post" itemscope="" itemtype="http://schema.org/CreativeWork">
<meta content="计算机组成原理 | 若凡的笔记" itemprop="name"/>
<meta content="" itemprop="description"/>
</span>
<header class="post-header">
<h1 class="post-title" itemprop="name headline">
          计算机组成原理
        </h1>
<div class="post-meta-container">
<div class="post-meta">
<span class="post-meta-item">
<span class="post-meta-item-icon">
<i class="far fa-calendar"></i>
</span>
<span class="post-meta-item-text">发表于</span>
<time datetime="2024-03-02T18:20:00+08:00" itemprop="dateCreated datePublished" title="创建时间：2024-03-02 18:20:00">2024-03-02</time>
</span>
<span class="post-meta-item">
<span class="post-meta-item-icon">
<i class="far fa-calendar-check"></i>
</span>
<span class="post-meta-item-text">更新于</span>
<time datetime="2024-08-17T21:07:54+08:00" itemprop="dateModified" title="修改时间：2024-08-17 21:07:54">2024-08-17</time>
</span>
<span class="post-meta-item">
<span class="post-meta-item-icon">
<i class="far fa-folder"></i>
</span>
<span class="post-meta-item-text">分类于</span>
<span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
<a href="/blog/u/" itemprop="url" rel="index"><span itemprop="name">永远不看系列</span></a>
</span>
</span>
</div>
</div>
</header>
<div class="post-body" itemprop="articleBody"><p>计算机基础不牢。</p>
<span id="more"></span>
<h2 id="应试技巧注意这里的知识是未经验证的不一定正确">应试技巧（注意：这里的知识是未经验证的，不一定正确）</h2>
<h3 id="计算机体系概论">计算机体系概论</h3>
<blockquote>
<p>“存储程序”特点？</p>
</blockquote>
<p>早期计算机通过硬件开关或打孔纸带输入程序，程序和数据是分离的。老冯提出了把毒和鸡汤存储在一起的思想：把程序和数据存在一起，存在存储器里。</p>
<blockquote>
<p>计算机的五个子系统？</p>
</blockquote>
<p>我们为什么要造计算机，要算个什么东西。所以输入、输出、算术逻辑运算肯定是有的。怎么算，你在草稿纸上算题，得有你这个人控制，得有中间结果。所以控制和存储是有的。</p>
<blockquote>
<p>主机？</p>
</blockquote>
<p>主机就是你引脚直接装在主板上的东西，粗略地理解为 CPU +
内存。显示器和鼠标键盘属于输入输出系统，用线连在机箱外面。剩下三个系统就是主机：控制单元和算术逻辑单元
ALU 合称中央处理单元
CPU；存储系统包括硬盘、内存、cache、寄存器，这四个是体积越小、容量越小、价格越贵。但是：硬盘不属于主存，不算在主机里面，它和输入输出系统合称外部设备，即“用户与计算机通信的界面”。</p>
<blockquote>
<p>ALU？</p>
</blockquote>
<p>即算术逻辑单元 Arithmetic and Logic Unit</p>
<blockquote>
<p>指令和数据？</p>
</blockquote>
<p>指令和数据都是二进制的，在形式上无法区分，由控制器判断谁是指令，谁是数据。判断的依据是：当前处于哪个访问阶段，是处于取指周期还是执行周期。当程序被启动执行后，其指令和数据从外存被装进内存。</p>
<blockquote>
<p>取指执行过程？</p>
</blockquote>
<p>你上司给你发了一张纸，这张纸就是内存。纸上写了一些暗号：午时三刻，当街问斩。这个暗号就是指令，问斩是操作码，当街是地址码。你收到这张纸后，把指令从纸上取到你脑子缓冲区里，你脑子缓冲区就是指令寄存器，你至少得反应一会，这个反应的过程就是译码，</p>
<blockquote>
<p>K？</p>
</blockquote>
<p>按具体上下文，单独一个 K 可指 KB，即 2 的 10 次方个字节（Byte）</p>
<blockquote>
<p>汇编语言？</p>
</blockquote>
<p>汇编语言与具体的机器结构（指令集架构）有关，其源程序不能直接在机器上执行，还得过一道汇编器。</p>
<blockquote>
<p>机器语言？</p>
</blockquote>
<p>计算机硬件可以直接执行的是机器语言程序，一系列 0 和
1。不是硬件描述语言，硬件描述语言是写电路的，用这种语言描述电路结构。汇编语言还要过一遍汇编器。</p>
<blockquote>
<p>机器字长？</p>
</blockquote>
<p>机器字长是二进制的位数，是 ALU
和通用寄存器的宽度。指令寄存器和浮点寄存器的宽度可能与其不等。</p>
<blockquote>
<p>面向量纲/单位计算？</p>
</blockquote>
<p>CPI 的单位是：个(时钟周期)每个(指令)</p>
<p>时钟周期的量纲是：时间。这一个时钟周期有它的具体时间长度。</p>
<p>主频的量纲是：频率，时间的倒数。一秒钟被分割成了有多少个时钟周期。</p>
<p>MIPS 的单位是：(百万)个(指令)每个(秒)</p>
<p>这里的 M 是 10 的 6 次方，主频里的 G 是 10 的 9 次方，往上指数+3 为 T
P E B</p>
<p>做计算题，先搞明白指令总数、时钟周期总数。指令总数乘上 CPI
等于时钟周期总数。时间就是时钟周期总数乘上每个时钟周期所占的时间长度。</p>
<p>在纸上画图：一个秒被切割成了一系列时钟周期，每个时钟周期执行一条指令。直接设未知数，列方程。</p>
<h3 id="运算方法和运算器">运算方法和运算器</h3>
<p>交叉引用<a href="#普通十进制数转单精度浮点数">普通十进制数转单精度浮点数</a>|<a href="#十进制与-k-进制小数互转">十进制与 k 进制小数互转</a></p>
<p>魔法口诀：幺二八六四 三二幺六 八四二幺 五二五幺二五 零六二五</p>
<p>在发草稿纸之后，直接把 0 到 F
全写下来（想当年笔者可以把元素周期表画下来（除了镧系和锕系），包括一直到气奥的各个元素名、绝大部分元素符号以及常见的相对原子质量，还有
38324 14122 横批 4546 之类的。但是现在不行了。还有 2^31 - 1 =
2147483647，这是四字节 int
类型的最大值，这个数字最早在《植物大战僵尸》的修改器里见到，如果你无尽模式或者自选关过了这一波，它的程序会崩掉）</p>
<blockquote>
<p>原码反码补码移码？</p>
</blockquote>
<p>正整数的原码反码补码都是它的二进制按照某一个特定的位数表示，前面补零。</p>
<p>负整数的原码，最高位为符号位
1，后面为它的二进制形式按照某一个特定的位数表示，前面补零。</p>
<p>负整数的反码，为原码除符号位的所有位按位取反后的结果。</p>
<p>负整数的补码，为其反码 + 1，按位截断。</p>
<p>移码 = 【真值 + （最高位所代表的 2 的次方值 -
1）】的无符号整数表示</p>
<p>如八位下 5 的移码是 <code>5 + 2^(8-1)</code> = <code>5 + 127</code> =
<code>4 + 128</code> = <code>1000 0100</code></p>
<blockquote>
<p>八位下，零的表示形式？</p>
</blockquote>
<p>正零的原码：00000000</p>
<p>负零的原码：10000000</p>
<p>正零的反码：00000000</p>
<p>负零的反码：11111111</p>
<p>正零/负零的补码：00000000</p>
<blockquote>
<p>-26？</p>
</blockquote>
<p>26 = 16 + 8 + 2</p>
<p>= 10000 + 1000 + 10</p>
<p>= 00011010</p>
<p>-26 = 10011010（原）= 11100101（反）= 11100110（补）= E6H</p>
<blockquote>
<p>BCD 码？</p>
</blockquote>
<p>用二进制编码的十进制数(Binary-Coded Decimal)。对于 8421
码，是把十进制数的每一个位转换成一个四位的二进制数。</p>
<p>如(1145)_10 = (0001 0001 0100 0101)_BCD</p>
<blockquote>
<p>进制转换？</p>
</blockquote>
<p>分向十进制转、从十进制向外转、二八十六互转。</p>
<p>向十进制转：各个位的十进制值乘上以原进制为底、该位与小数点的相对位置为指数的幂，再相加。其中小数点左边一位的相对位置为零，小数点右边一位的相对位置为负一，以此类推。</p>
<p>从十进制向外转：除 k 取余法+乘 k
取整法。整数部分用短除法列竖式，用新进制的基数去除，除到商为零为止，之前的所有余数从下向上排列为新数的整数部分；小数部分乘上新进制的基数，取积的整数部分为新数的小数部分，积的小数部分继续与基数乘，直到积的小数部分为零或者出现循环节为止。</p>
<p>对于一个 1000 以内的十进制数转成二进制，除 k
取余法还是太教科书了，你可以直接把它拆分成 2
的幂相加，因为加减法不容易出错。</p>
<p>二八十六互转：四位二进制位与一位十六进制位在[0,16)这个整数范围内一一对应。小数点前后的部分直接按片段替换。三位二进制位与一位八进制位在[0,8)这个整数范围内一一对应。小数点前后的部分直接按片段替换。八与十六互转时，以二作为桥梁。</p>
<blockquote>
<p>浮点数的编码方式？</p>
</blockquote>
<p>对于 32 位浮点数 float，即单精度浮点数，最高位为符号位，后 8
位为阶码，再后 23 位为尾数。</p>
<p>阶码决定范围，尾数决定精度。</p>
<p>浮点数转真值：把 1.与 23
位尾数缝合起来，转成十进制；把阶码作为移码求真值，作为 2
的指数；两者相乘，带上符号位。</p>
<p>普通数转浮点数：把<strong>绝对值</strong>先转成二进制，小数点挪到第一个
1 的后面，为符号(1.xxx)乘 2^指数；符号放最高位；指数转为移码放后 8
位；小数点后的部分取“0 舍 1 入”的 23 位。</p>
<p>（意思就是：1.7 和 -1.7 只差一个符号位）</p>
<p>对于 64 位双精度浮点数 double：阶码变成了 11 位</p>
<blockquote>
<p>float 的五种形式？</p>
</blockquote>
<p>32
位二进制浮点数，她的位数是有限的，不可能双射无限多（阿列夫一）的（实）数。</p>
<ul>
<li>阶码全零，尾数全零：正/负机器零</li>
<li>阶码全零，尾数不全零：非规格化数</li>
<li>阶码全 1，尾数全零：正/负无穷大</li>
<li>阶码全 1，尾数不全零：不是数（NaN）</li>
</ul>
<p>她的阶码有 8
位，当不是全零或全一时，我们称她为规格化的。把阶码移码的身份转回正经数后，指数范围为[-126,+127]，不考虑尾数，对应真值约
2^(-126) 到 2^127，又约 10^(-38) 到 10^38。</p>
<p>浮点数原码运算时，判定结果为规格化数的条件是：尾数的最高位为 1</p>
<blockquote>
<p>奇偶校验？</p>
</blockquote>
<p>看 1 的个数</p>
<blockquote>
<p>串行运算器？</p>
</blockquote>
<p>从低位到高位逐位运算</p>
<blockquote>
<p>加法器采用先行进位的目的？</p>
</blockquote>
<p>加速传递进位信号（没明白）</p>
<blockquote>
<p>采用双符号位的定点补码运算器，何时结果溢出？</p>
</blockquote>
<p>双符号位不同（没明白）</p>
<h3 id="存储系统">存储系统</h3>
<blockquote>
<p>存取周期？</p>
</blockquote>
<p>存储器进行连续读和写操作所允许的最短时间间隔（没明白）</p>
<blockquote>
<p>存储器采用分级存储的目的？</p>
</blockquote>
<p>钱、容量、速度三者不能兼得。</p>
<blockquote>
<p>寻址范围？</p>
</blockquote>
<ol type="1">
<li>内存能存储多少位二进制数</li>
<li>多少位二进制数作为一个地址</li>
<li>两者相除，结果无单位</li>
</ol>
<blockquote>
<p>已被淘汰的存储器？</p>
</blockquote>
<p>磁芯存储器</p>
<blockquote>
<p>主存？</p>
</blockquote>
<p>主存由 RAM(Random Access Memory，随机存取存储器)和
ROM(只读存储器，Read-Only
Memory)组成。同一个存储器里，每个存储单元宽度相同</p>
<blockquote>
<p>PROM? EPROM?</p>
</blockquote>
<p>前者是可编程(P)的 ROM，后者是可擦除的 PROM。</p>
<p>PROM 不一定可被改写。EPROM 可被改写多次，但不能作 RAM</p>
<p>U 盘、TF 卡属于闪存，闪存属于 EPROM</p>
<blockquote>
<p>SRAM? DRAM?</p>
</blockquote>
<p>一静一动，一快一慢。</p>
<p>前者用于 CPU 缓存。后者用于主存、需要定时刷新、行列地址引脚复用(RAS
行地址选通信号引脚、CAS 列地址选通信号引脚)</p>
<blockquote>
<p>磁盘和磁带？</p>
</blockquote>
<p>存取时间与存取单元的物理位置有关。磁带串行存取，磁盘部分串行存取。</p>
<blockquote>
<p>存储芯片的地址线数据线？</p>
</blockquote>
<p>存储容量=地址数*位宽</p>
<p>数据线或引脚数目=位宽</p>
<p>SRAM 地址线或引脚数目=log_2(地址数)，与位宽无关</p>
<p>DRAM 地址线或引脚数目=0.5log_2(地址数)，与位宽无关</p>
<blockquote>
<p>MAR? MDR?</p>
</blockquote>
<p>存储器地址寄存器、存储器数据寄存器</p>
<p>MAR 宽度=log_2(地址数)</p>
<p>MDR 宽度至少为每次读写操作最多存取的位数</p>
<blockquote>
<p>某一 RAM 芯片其容量是 512*8
位，除电源和接地端外该芯片引线的最少数目是多少？</p>
</blockquote>
<p>数据线 8+地址线 log2(512)+片选线 1+读写线 1=19</p>
<blockquote>
<p>双端口存储器？</p>
</blockquote>
<p>左右端口地址码相同时，发生读写冲突</p>
<blockquote>
<p>多体交叉存储器解决的问题？</p>
</blockquote>
<p>提高主存的数据传输率</p>
<blockquote>
<p>cache 的功能全部由谁实现？</p>
</blockquote>
<p>硬件</p>
<blockquote>
<p>与 cache 命中率无关的是？</p>
</blockquote>
<p>主存的存取时间</p>
<blockquote>
<p>cache 的地址映射？</p>
</blockquote>
<p>主存 到 cache</p>
<p>多对一：直接映射</p>
<p>多对多：全相联映射</p>
<p>组相联映射：</p>
<ol type="1">
<li>把主存和 cache 都分为若干组</li>
<li>对于主存的某一组，其块数=cache 组数。其所有块分配给 cache
的各个组，对于每一块，其被分到的 cache 组固定、不一定分配到 cache
组的哪一行</li>
</ol>
<blockquote>
<p>某计算机的 Cache 共有 16 行，采用 2 路-组相联映射方式(即每组包括 2
行)。存储器按字节编址，每个主存块大小为 32 字节。主存 135
号单元所在主存块应装入的 cache 组号？</p>
</blockquote>
<p>简记： cache 组号 = 主存单元号 // 主存块字节数 % cache 组数</p>
<p>cache 分 8 组，每组两行。则主存分若干组，每组 8 块。</p>
<p>cache 组号 = 主存块号 % 主存每组块数</p>
<p>= 单元号 // 字节数 % 主存每组块数</p>
<p>= 135 // 32 % 8</p>
<p>= 4</p>
<p>简记是什么意思？因为笔者写出来的东西都是笔者不会的，至少是在写出来之前的那一段时间是不会的，如果笔者在写出来之后会了，那么就不会使用“简记”这两个字了。简记的意思是：我对这个知识点没搞明白，也不想搞明白，所以按感性提了一个公式出来，这个公式根本记不住，没有内化到自身。“简记”在笔者的潜意识里有两层麻痹自我的意思：简的意思是：我没搞懂；记的意思是：我记不住。</p>
<blockquote>
<p>cache？</p>
</blockquote>
<p>cache 是易失型存储器。当程序具有较好的访问局部性时，能更好地发挥
cache 的作用。</p>
<blockquote>
<p>闪速存储器？</p>
</blockquote>
<p>闪速存储器是一种高密度，非易失的读/写半导体存储器</p>
<blockquote>
<p>下列 cache 替换算法中，速度最快的是？命中率最高的是？LFU LRU
随机替换</p>
</blockquote>
<p>随机替换 LRU</p>
<h3 id="指令系统">指令系统</h3>
<blockquote>
<p>程序控制类指令的功能？</p>
</blockquote>
<p>改变程序执行的顺序</p>
<blockquote>
<p>RISC？</p>
</blockquote>
<p>指令长度固定，减少指令数，增加寄存器数</p>
<blockquote>
<p>一地址格式的指令？</p>
</blockquote>
<p>一地址格式的算术运算指令，另一个操作数隐含在累加器里</p>
<p>一地址格式的指令，可能有一个操作数，也可能有两个操作数</p>
<blockquote>
<p>怎么区分寄存器中的值是地址还是数据？</p>
</blockquote>
<p>指令操作码或寻址方式位</p>
<blockquote>
<p>一条指令中，操作数的寻址方式？</p>
</blockquote>
<p>看指令地址码是什么：</p>
<ul>
<li>操作数所在的存储单元：寄存器间接寻址</li>
<li>操作数所在的存储单元地址：直接寻址</li>
<li>操作数所在的寄存器编号：寄存器直接寻址</li>
<li>操作数本身：立即寻址</li>
</ul>
<h2 id="cpu-性能指标">CPU 性能指标</h2>
<p><span class="math inline">\(T\)</span>
时钟周期：计算机中最短的时间。类比：一面有秒针的钟，最短时间为 1
秒。类比：普朗克时间。类比：“一周”的“最短时间”为“天”</p>
<p><span class="math inline">\(f\)</span>
主频/时钟频率：一秒钟之内，包含多少个时钟周期。对于一个可以精确到 0.01
秒的秒表，其“主频”为 100Hz</p>
<p><span class="math inline">\(N_\mathrm{C}\)</span>
时钟周期数：天数、Num of Cycle</p>
<p><span class="math inline">\(I_\mathrm{N}\)</span>
指令数：任务数、Instruction Num</p>
<p><span class="math inline">\(\mathrm{CPI}\)</span> (Cycle Per
Instruction)：每条指令平均时钟周期数。完成每个任务的平均天数。你的时钟周期为“天”，有
100 个任务(指令)要完成，完成它们共花了 200 天。你的 CPI 为 2 天/任务</p>
<p><span class="math inline">\(\mathrm{CPI} \times I_\mathrm{N} =
N_\mathrm{C}\)</span></p>
<p><span class="math inline">\(\mathrm{MIPS}\)</span>：百万条指令数/秒</p>
<p><span class="math inline">\(\mathrm{FLOPS}\)</span>：浮点操作数/秒</p>
<p><span class="math inline">\(t_\mathrm{CPU}\)</span>
执行时间：执行一段程序(若干条指令)所花费时间。</p>
<p><span class="math display">\[
\begin{aligned}
= &amp; 指令数 \times \mathrm{CPI} \times  时钟周期\\
= &amp; 任务数 \times 每个任务所花天数 \times 一天有多少秒\\
= &amp; 执行该程序所经过时钟周期数 \times 时钟周期\\
= &amp; 花了多少天 \times 一天有多少秒\\
\end{aligned}
\]</span></p>
<h2 id="使用一个字节记录整数">使用一个字节记录整数</h2>
<p>计算机存储的数据由一系列 <code>0</code> 和 <code>1</code> 表示，每个
<code>0</code> 或 <code>1</code>
称为一个二进制位，八个二进制位组成一个字节。一个字节的范围：</p>
<p><code>0000 0000 - 1111 1111</code></p>
<p>使用一个字节，可以表示多少种状态？对每一位来说，只有两种可能的状态：<code>0</code>
或 <code>1</code>。一共有八个不同的位，所以可以表示 <span class="math inline">\(2^8=256\)</span> 种状态。</p>
<p>把 <code>0000 0000 - 1111 1111</code> 转换为十进制数是 <span class="math inline">\(0\)</span> 到 <span class="math inline">\(255\)</span>，有 <span class="math inline">\(256\)</span> 个数。它当然可以通过进制转换，表示
<span class="math inline">\(0\)</span> 到 <span class="math inline">\(255\)</span> 的整数（也可以叫“无符号整数”）。</p>
<p>我们想表示负数，可以这样规定：只把后面七个二进制位转换成十进制，而用第一个二进制位表示符号（其中
<code>0</code> 表示正号，<code>1</code> 表示负号），即：</p>
<ul>
<li><code>0 0000000 - 0 1111111</code> 表示 <span class="math inline">\(+0\)</span> 到 <span class="math inline">\(+127\)</span></li>
<li><code>1 0000000 - 1 1111111</code> 表示 <span class="math inline">\(-0\)</span> 到 <span class="math inline">\(-127\)</span></li>
</ul>
<p>这被称为<strong>原码</strong>表示法。</p>
<p>我们想用原码计算 <span class="math inline">\(4 - 7\)</span>，即 <span class="math inline">\(4 + (-7)\)</span>：</p>
<ul>
<li><code>0000 0100</code> <span class="math inline">\(-\)</span>
<code>0000 0111</code> <span class="math inline">\(=\)</span>
<code>1111 1101</code>，可以看到，结果不是 <span class="math inline">\(-3\)</span></li>
<li><code>0000 0100</code> <span class="math inline">\(+\)</span>
<code>1000 0111</code> <span class="math inline">\(=\)</span>
<code>1000 1011</code>，可以看到，结果不是 <span class="math inline">\(-3\)</span></li>
</ul>
<p>因为有符号位干扰，但我们想<strong>让符号位也参与计算</strong>的同时，加和减的结果相同且满足定义。还是用符号位表示正负，后七个位表示绝对值。</p>
<p>有一台钟（12 个数字的）慢了 3 小时，此时 <code>+3</code> 和
<code>-9</code> 是等价的。它的“循环周期”是 <code>12</code></p>
<p>用后七个位表示绝对值，“循环周期”就是
<code>128</code>。此时，<code>-7</code> 和 <code>+121</code> 等价</p>
<p>采用<strong>补码</strong>表示法：</p>
<ul>
<li><code>0 0000000 - 0 1111111</code> 表示 <span class="math inline">\(0\)</span> 到 <span class="math inline">\(127\)</span></li>
<li><code>1 0000000 - 1 1111111</code> 表示 <span class="math inline">\(-128\)</span> 到 <span class="math inline">\(-1\)</span></li>
</ul>
<p>此时计算 <span class="math inline">\(4 - 7\)</span>：</p>
<ul>
<li><code>0000 0100</code> <span class="math inline">\(-\)</span>
<code>0000 0111</code> <span class="math inline">\(=\)</span>
<code>1111 1101</code></li>
<li><code>0000 0100</code> <span class="math inline">\(+\)</span>
<code>1111 1001</code> <span class="math inline">\(=\)</span>
<code>1111 1101</code></li>
</ul>
<p>可以看到：</p>
<ul>
<li>正数的补码与原码相同</li>
<li>负数的补码：
<ul>
<li>总是以“全 <span class="math inline">\(1\)</span>”来表示 <span class="math inline">\(-1\)</span>，然后依次往前推</li>
<li>原码按位取反（除了符号位）后再加一</li>
<li>原码从右往左第一个 <span class="math inline">\(1\)</span>
之前的位（除了符号位）按位取反</li>
</ul></li>
</ul>
<h2 id="逐位进位加法器的实现">逐位进位加法器的实现</h2>
<ol type="1">
<li>用两个非门、两个与门、一个或门实现异或门</li>
</ol>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/><span class="line">6</span><br/><span class="line">7</span><br/><span class="line">8</span><br/><span class="line">9</span><br/></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">xor_gate</span>(<span class="params">a: <span class="built_in">bool</span>, b: <span class="built_in">bool</span></span>):</span><br/><span class="line">    <span class="keyword">return</span> (a <span class="keyword">and</span> <span class="keyword">not</span> b) <span class="keyword">or</span> (<span class="keyword">not</span> a <span class="keyword">and</span> b)</span><br/><span class="line"></span><br/><span class="line"></span><br/><span class="line">truth = (<span class="literal">True</span>, <span class="literal">False</span>)</span><br/><span class="line"></span><br/><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> truth:</span><br/><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> truth:</span><br/><span class="line">        <span class="built_in">print</span>(<span class="string">f"<span class="subst">{<span class="built_in">int</span>(a)}</span> xor <span class="subst">{<span class="built_in">int</span>(b)}</span> = <span class="subst">{<span class="built_in">int</span>(xor_gate(a,b))}</span>"</span>)</span><br/></pre></td></tr></table></figure>
<ol start="2" type="1">
<li>用一个异或门、一个与门实现半加器</li>
</ol>
<p>两个一位的二进制数相加，和一位，进一位：</p>
<ul>
<li>0 + 0 和 0 进 0</li>
<li>0 + 1 和 1 进 0</li>
<li>1 + 0 和 1 进 0</li>
<li>1 + 1 和 0 进 1</li>
</ul>
<p>和的位由异或得来，进的位由与得来：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/><span class="line">6</span><br/><span class="line">7</span><br/><span class="line">8</span><br/><span class="line">9</span><br/><span class="line">10</span><br/><span class="line">11</span><br/><span class="line">12</span><br/></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">half_adder</span>(<span class="params">a: <span class="built_in">bool</span>, b: <span class="built_in">bool</span></span>):</span><br/><span class="line">    sum_ = xor_gate(a, b)</span><br/><span class="line">    carry = a <span class="keyword">and</span> b</span><br/><span class="line">    <span class="keyword">return</span> sum_, carry</span><br/><span class="line"></span><br/><span class="line"></span><br/><span class="line">truth = (<span class="literal">True</span>, <span class="literal">False</span>)</span><br/><span class="line"></span><br/><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> truth:</span><br/><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> truth:</span><br/><span class="line">        s, c = half_adder(a, b)</span><br/><span class="line">        <span class="built_in">print</span>(<span class="string">f"<span class="subst">{<span class="built_in">int</span>(a)}</span> + <span class="subst">{<span class="built_in">int</span>(b)}</span> 进 <span class="subst">{<span class="built_in">int</span>(c)}</span> 和 <span class="subst">{<span class="built_in">int</span>(s)}</span>"</span>)</span><br/></pre></td></tr></table></figure>
<ol start="3" type="1">
<li>用两个半加器、一个或门实现全加器</li>
</ol>
<p>两个本位的数相加后，再加上低位进的位。和一位，进一位：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/><span class="line">6</span><br/><span class="line">7</span><br/><span class="line">8</span><br/><span class="line">9</span><br/><span class="line">10</span><br/><span class="line">11</span><br/><span class="line">12</span><br/><span class="line">13</span><br/></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">full_adder</span>(<span class="params">a: <span class="built_in">bool</span>, b: <span class="built_in">bool</span>, carry_in: <span class="built_in">bool</span></span>):</span><br/><span class="line">    s1, c1 = half_adder(a, b)</span><br/><span class="line">    s2, c2 = half_adder(s1, carry_in)</span><br/><span class="line">    carry_out = c1 <span class="keyword">or</span> c2</span><br/><span class="line">    <span class="keyword">return</span> s2, carry_out</span><br/><span class="line"></span><br/><span class="line">truth = (<span class="literal">True</span>, <span class="literal">False</span>)</span><br/><span class="line"></span><br/><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> truth:</span><br/><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> truth:</span><br/><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> truth:</span><br/><span class="line">            s, c_out = full_adder(a, b, c)</span><br/><span class="line">            <span class="built_in">print</span>(<span class="string">f"<span class="subst">{<span class="built_in">int</span>(a)}</span> + <span class="subst">{<span class="built_in">int</span>(b)}</span> + <span class="subst">{<span class="built_in">int</span>(c)}</span> 进 <span class="subst">{<span class="built_in">int</span>(c_out)}</span> 和 <span class="subst">{<span class="built_in">int</span>(s)}</span>"</span>)</span><br/></pre></td></tr></table></figure>
<ol start="4" type="1">
<li>四个全加器串联实现四位加法器</li>
</ol>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/><span class="line">6</span><br/><span class="line">7</span><br/><span class="line">8</span><br/><span class="line">9</span><br/><span class="line">10</span><br/><span class="line">11</span><br/><span class="line">12</span><br/><span class="line">13</span><br/><span class="line">14</span><br/><span class="line">15</span><br/><span class="line">16</span><br/><span class="line">17</span><br/><span class="line">18</span><br/><span class="line">19</span><br/><span class="line">20</span><br/><span class="line">21</span><br/><span class="line">22</span><br/><span class="line">23</span><br/><span class="line">24</span><br/></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> product</span><br/><span class="line"></span><br/><span class="line">truth = (<span class="literal">True</span>, <span class="literal">False</span>)</span><br/><span class="line">numbers = <span class="built_in">tuple</span>(product(truth, repeat=<span class="number">4</span>))</span><br/><span class="line"></span><br/><span class="line"></span><br/><span class="line"><span class="keyword">def</span> <span class="title function_">adder</span>(<span class="params">a: <span class="built_in">tuple</span>[<span class="built_in">bool</span>, <span class="built_in">bool</span>, <span class="built_in">bool</span>, <span class="built_in">bool</span>], b: <span class="built_in">tuple</span>[<span class="built_in">bool</span>, <span class="built_in">bool</span>, <span class="built_in">bool</span>, <span class="built_in">bool</span>]</span>):</span><br/><span class="line">    s1, c1 = full_adder(a[-<span class="number">1</span>], b[-<span class="number">1</span>], <span class="literal">False</span>)</span><br/><span class="line">    s2, c2 = full_adder(a[-<span class="number">2</span>], b[-<span class="number">2</span>], c1)</span><br/><span class="line">    s3, c3 = full_adder(a[-<span class="number">3</span>], b[-<span class="number">3</span>], c2)</span><br/><span class="line">    s4, c4 = full_adder(a[-<span class="number">4</span>], b[-<span class="number">4</span>], c3)</span><br/><span class="line">    <span class="keyword">return</span> c4, s4, s3, s2, s1</span><br/><span class="line"></span><br/><span class="line"></span><br/><span class="line"><span class="keyword">def</span> <span class="title function_">to_number</span>(<span class="params">a: <span class="built_in">tuple</span>[<span class="built_in">bool</span>, ...]</span>):</span><br/><span class="line">    binary_string = <span class="string">""</span>.join(<span class="built_in">str</span>(<span class="built_in">int</span>(elem)) <span class="keyword">for</span> elem <span class="keyword">in</span> a)</span><br/><span class="line">    decimal_number = <span class="built_in">int</span>(binary_string, <span class="number">2</span>)</span><br/><span class="line">    <span class="keyword">return</span> decimal_number</span><br/><span class="line"></span><br/><span class="line"></span><br/><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> numbers:</span><br/><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> numbers:</span><br/><span class="line">        result = adder(a, b)</span><br/><span class="line">        <span class="built_in">print</span>(<span class="string">f"<span class="subst">{to_number(a)}</span> + <span class="subst">{to_number(b)}</span> = <span class="subst">{to_number(result)}</span>"</span>)</span><br/></pre></td></tr></table></figure>
<h2 id="普通十进制数转单精度浮点数">普通十进制数转单精度浮点数</h2>
<p>交叉引用<a href="#运算方法和运算器">运算方法和运算器</a></p>
<ul>
<li>在 IEEE 754 标准下</li>
</ul>
<p>单精度浮点数，即 32 位二进制浮点数，包含：</p>
<p>一位符号位 + 八位指数位 + 二十三位尾数位</p>
<p>下面的例子中，没有带尾缀的都是十进制，带尾缀 <span class="math inline">\(\mathrm{B}\)</span> 的是二进制</p>
<h3 id="例一">例一</h3>
<p>以 <span class="math inline">\(0.1\)</span> 为例：</p>
<ol type="1">
<li><p>把十进制转换为二进制 <span class="math inline">\(0.1 =
0.0\dot{0}01\dot{1}... \mathrm{B}\)</span></p></li>
<li><p>用以 <span class="math inline">\(2\)</span>
为基数的科学计数法表示，并保证【尾数的小数点前是 <span class="math inline">\(1 \mathrm{B}\)</span>】 <span class="math inline">\(= 1.\dot{1}00\dot{1}...\mathrm{B} \times
(2^{-4})\)</span> 可以看到指数是 <span class="math inline">\(-4\)</span></p></li>
<li><p>计算指数位（又叫阶码），用指数加上偏移量 <span class="math inline">\((2^{e-1}-1)\)</span></p>
<p>这里 <span class="math inline">\(e\)</span>
等于【用于表示指数位的位数】 <span class="math inline">\(8\)</span>，所以偏移量为 <span class="math inline">\(127\)</span></p>
<p>则阶码为 <span class="math inline">\(-4 + 127 = 123\)</span></p>
<p>阶码的二进制为 <code>0111 1011</code>，注意
<em>阶码为无符号整数</em></p></li>
<li><p>取科学计数法的【小数点后二十三位】作为【尾数位】，因为是无限的，所以要舍去一部分</p>
<p>它的前二十位是：<code>1001 1001 1001 1001 1001</code></p>
<p>二十一至二十八位是：<code>1001 1001</code></p>
<p>所以二十一至二十三位，要么取 <code>100</code>，要么取
<code>101</code>。</p>
<p>第二十四位是 <code>1</code>，0 舍 1 入，所以取
<code>101</code></p></li>
<li><p>把符号位连同阶码、尾数位缝合起来</p>
<p><code>0 | 0111 1011 | 1001 1001 1001 1001 1001 101</code></p></li>
</ol>
<h3 id="例二">例二</h3>
<p>以 <span class="math inline">\(-12 = 1.5 \times (2^{3})\)</span>
为例：</p>
<ol type="1">
<li><p>把十进制转换为二进制</p>
<p><span class="math inline">\(12 = 1100 \mathrm{B}\)</span></p></li>
<li><p>用以 <span class="math inline">\(2\)</span>
为基数的科学计数法表示，并保证【尾数的小数点前是 <span class="math inline">\(1\)</span>】</p>
<p><span class="math inline">\(= 1.1\mathrm{B} \times (2^3)\)</span></p>
<p>可以看到指数是 <span class="math inline">\(3\)</span></p></li>
<li><p>计算指数位（又叫阶码），用指数加上偏移量 <span class="math inline">\((2^{e-1}-1)\)</span></p>
<p>这里 <span class="math inline">\(e\)</span>
等于【用于表示指数位的位数】 <span class="math inline">\(8\)</span>，所以偏移量为 <span class="math inline">\(127\)</span></p>
<p>则阶码为 <span class="math inline">\(3 + 127 = 130\)</span></p>
<p>阶码的二进制为 <code>1000 0010</code>，注意
<em>阶码为无符号整数</em></p></li>
<li><p>取科学计数法的【小数点后二十三位】作为【尾数位】，因为是有限的，所以后面直接补零</p>
<p>小数点后二十三位是：<code>1000 0000 0000 0000 000</code></p></li>
<li><p>把符号位连同阶码、尾数位缝合起来</p>
<p><code>1 | 1000 0010 | 1000 0000 0000 0000 000</code></p></li>
</ol>
<h3 id="如何验证">如何验证</h3>
<ul>
<li><a href="https://baseconvert.com/ieee-754-floating-point" rel="noopener" target="_blank">在线转换</a></li>
<li><a href="https://en.wikipedia.org/wiki/IEEE_754" rel="noopener" target="_blank">Wikipedia</a> | <a href="https://zh.wikipedia.org/wiki/IEEE_754" rel="noopener" target="_blank">维基百科</a></li>
<li>获取国际标准文件。IEEE 754 标准是电气与电子工程师协会（Institute of
Electrical and Electronics
Engineers）制定的关于浮点数表示和运算的标准。最新标准是 <a href="https://standards.ieee.org/ieee/754/6210/" rel="noopener" target="_blank">IEEE
754-2019</a>，对应国际标准 <a href="https://www.iso.org/cms/%20render/live/en/sites/isoorg/contents/data/standard/08/09/80985.html" rel="noopener" target="_blank">ISO/IEC
60559:2020</a>，预计下一次在 2028 年修订。http://snti.ru/
这个网站分享了各种国际标准文件的磁力链接，但是可以免费下载的不全，IEC
的只有 61xxx。据说可以给站长发邮件要
<code>popov_al@perm.ru</code>，每个文件一刀乐。在 ISO 官网上下载需要 187
瑞士法郎，合 1000 多人民币。</li>
</ul>
<p>用 GDB：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/><span class="line">6</span><br/><span class="line">7</span><br/></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br/><span class="line"></span><br/><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br/><span class="line">{</span><br/><span class="line">    <span class="type">float</span> num = <span class="number">1.7</span>;</span><br/><span class="line">    <span class="built_in">printf</span>(<span class="string">""</span>);</span><br/><span class="line">}</span><br/></pre></td></tr></table></figure>
<p>在第六行打上断点，VSCode 开调试，在调试控制台里：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br/></pre></td><td class="code"><pre><span class="line">-<span class="built_in">exec</span> x/4tb &amp;num</span><br/></pre></td></tr></table></figure>
<ul>
<li><code>-exec</code> 执行命令</li>
<li><code>x</code> 查看内存</li>
<li><code>4</code> 输出 4 个单元
<ul>
<li>不写默认为 <code>1</code></li>
</ul></li>
<li><code>t</code> 以二进制形式输出
<ul>
<li><code>x</code> 十六进制</li>
</ul></li>
<li><code>b</code> 以【一个字节】为一个单元
<ul>
<li><code>h</code> 两个字节</li>
<li><code>w</code> 四个字节</li>
<li><code>g</code> 八个字节</li>
</ul></li>
<li><code>&amp;</code>取变量地址</li>
</ul>
<p>输出结果：</p>
<p><code>0x61fe1c: 10011010 10011001 11011001 00111111</code></p>
<p>从右往左排列后：</p>
<p><code>00111111 11011001 10011001 10011010</code></p>
<p><code>0 01111111 10110011001100110011010</code></p>
<p>才是<code>float 1.7</code>的二进制表示。</p>
<p>还可以直接用</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br/></pre></td><td class="code"><pre><span class="line">-<span class="built_in">exec</span> x/tw &amp;num</span><br/></pre></td></tr></table></figure>
<p>输出四个字节，结果：</p>
<p><code>0x61fe1c: 00111111110110011001100110011010</code></p>
<h2 id="十进制与-k-进制小数互转">十进制与 K 进制小数互转</h2>
<p>交叉引用<a href="#运算方法和运算器">运算方法和运算器</a></p>
<p>K 转 10：每一位分别乘上 K 的次方，再相加。</p>
<h3 id="转-10">2 转 10</h3>
<p><strong>有限小数</strong></p>
<p><span class="math inline">\(11.1011\mathrm{B} = 3.6875\)</span></p>
<table>
<thead>
<tr class="header">
<th>项</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(1\times2^{1}\)</span></td>
<td><span class="math inline">\(2\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(1\times2^{0}\)</span></td>
<td><span class="math inline">\(1\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(1\times2^{-1}\)</span></td>
<td><span class="math inline">\(0.5\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(0\times2^{-2}\)</span></td>
<td><span class="math inline">\(0\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(1\times2^{-3}\)</span></td>
<td><span class="math inline">\(0.125\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(1\times2^{-4}\)</span></td>
<td><span class="math inline">\(0.0625\)</span></td>
</tr>
<tr class="odd">
<td><strong>总和</strong></td>
<td><span class="math inline">\(3.6875\)</span></td>
</tr>
</tbody>
</table>
<p><strong>无限循环小数</strong></p>
<p><span class="math inline">\(1.1 \dot{0} 11 \dot{0} ... \mathrm{B} =
1.7\)</span></p>
<p>可以转换成分数计算：</p>
<p><span class="math display">\[
\begin{aligned}
1.1 \dot{0} 11 \dot{0} ... \mathrm{B} &amp; = x \\
11.\dot{0} 11 \dot{0} ... \mathrm{B} &amp; = 2x \\
110110. \dot{0} 11 \dot{0} ... \mathrm{B} &amp; = 32x \\
两式相减，110011\mathrm{B} &amp; = 30x \\
x &amp; = \frac{110011\mathrm{B}}{30} = \frac{51}{30} = 1.7
\end{aligned}
\]</span></p>
<p>10 转 K：</p>
<p>整数部分仍然除 K 取余，小数部分乘 K 取整，然后相加。</p>
<h3 id="转-2">10 转 2</h3>
<p><span class="math inline">\(0.7 = 0.1 \dot{0} 11 \dot{0} ...
\mathrm{B}\)</span></p>
<table>
<thead>
<tr class="header">
<th>小数部分乘 2</th>
<th>取整数部分</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(0.7 \times 2 = 1.4\)</span></td>
<td><span class="math inline">\(1\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(0.4 \times 2 = 0.8\)</span></td>
<td><span class="math inline">\(0\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(0.8 \times 2 = 1.6\)</span></td>
<td><span class="math inline">\(1\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(0.6 \times 2 = 1.2\)</span></td>
<td><span class="math inline">\(1\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(0.2 \times 2 = 0.4\)</span></td>
<td><span class="math inline">\(0\)</span></td>
</tr>
<tr class="even">
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<h3 id="转-16">10 转 16</h3>
<p><span class="math inline">\(0.7 = 0.\mathrm{B} \dot{3} ...
_{16}\)</span></p>
<table>
<thead>
<tr class="header">
<th>小数部分乘 16</th>
<th>取整数部分</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(0.7 \times 16 = 11.2\)</span></td>
<td><span class="math inline">\(\mathrm{B}\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(0.2 \times 16 = 3.2\)</span></td>
<td><span class="math inline">\(3\)</span></td>
</tr>
<tr class="odd">
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
</div>
<footer class="post-footer">
<div class="post-nav">
<div class="post-nav-item">
<a href="/blog/mmpi.html" rel="prev" title="明尼苏达多相人格测验">
<i class="fa fa-chevron-left"></i> 明尼苏达多相人格测验
                </a>
</div>
<div class="post-nav-item">
<a href="/blog/albums.html" rel="next" title="音乐分享">
                  音乐分享 <i class="fa fa-chevron-right"></i>
</a>
</div>
</div>
</footer>
</article>
</div>
</div>
</main>
<footer class="footer">
<div class="footer-inner">
<div class="copyright">
  2023 – 
  <span itemprop="copyrightYear">2024</span>
<span class="with-love">
<i class="fa fa-heart"></i>
</span>
<span class="author" itemprop="copyrightHolder">Ruofan</span>
</div>
</div>
</footer>
<div aria-label="返回顶部" class="back-to-top" role="button">
<i class="fa fa-arrow-up fa-lg"></i>
<span>0%</span>
</div>
<div class="reading-progress-bar"></div>
<noscript>
<div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<script crossorigin="anonymous" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
<script crossorigin="anonymous" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js"></script>
<script src="/blog/js/comments.js"></script><script src="/blog/js/utils.js"></script><script src="/blog/js/next-boot.js"></script>
<script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/9.4.3/mermaid.min.js","integrity":"sha256-e0o3JYsdjqKajf9eOe22FhioYSz9WofRY4dLKo3F6do="}}</script>
<script src="/blog/js/third-party/tags/mermaid.js"></script>
<script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/blog/js/third-party/math/mathjax.js"></script>
<script crossorigin="anonymous" integrity="sha256-yvJQOINiH9fWemHn0vCA5lsHWJaHs6/ZmO+1Ft04SvM=" src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.3.0/quicklink.umd.js"></script>
<script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":false,"delay":true,"timeout":3000,"priority":true,"url":"https://hrfis.me/blog/computer-organization.html"}</script>
<script src="/blog/js/third-party/quicklink.js"></script>
</body>
</html>
