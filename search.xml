<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>JSON</title>
    <url>/blog/2023/05/26/JSON/</url>
    <content><![CDATA[<p>JSON(JavaScript Object
Notation，JavaScript对象表示法)是一种轻量级的数据交换格式。
<span id="more"></span></p>
<h2 id="json与js对象互转">json与js对象互转</h2>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> json = <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="attr">c</span>: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// js对象转json字符串</span></span><br><span class="line">json = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj)</span><br><span class="line"></span><br><span class="line"><span class="comment">// json字符串转js对象</span></span><br><span class="line">obj = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(json)</span><br></pre></td></tr></table></figure>
<h2 id="使用python编解码json">使用Python编解码json</h2>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">dic = &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;c&#x27;</span>: <span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 编码</span></span><br><span class="line">string = json.dumps(dic)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解码</span></span><br><span class="line">dic = json.loads(string)</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title>第一篇文章</title>
    <url>/blog/2023/05/25/%E7%AC%AC%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0/</url>
    <content><![CDATA[<p>这是第一篇文章</p>
]]></content>
  </entry>
  <entry>
    <title>踩坑记录（1）</title>
    <url>/blog/2023/05/26/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95%EF%BC%881%EF%BC%89/</url>
    <content><![CDATA[<p>做数据库课设时，我试图修改一个外键的删除规则和更新规则为<code>CASCADE</code>。</p>
<p>SQL语句执行成功了，然而刷新后它的属性又都变回了<code>RESTRICT</code>。
<span id="more"></span></p>
<p>我使用的是 MySQL + DBeaver。</p>
<p>建立外键时，选择的删除属性和更新属性是无动作（默认）。</p>
<p>建立后，MySQL把它们设为了<code>RESTRICT</code>。</p>
<p>由于一些麻烦的原因，我想把它们改成<code>CASCADE</code>，于是出现了上面的情况。</p>
<p>DBeaver给出的SQL语句是： <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> dbkeshe.student <span class="keyword">DROP</span> <span class="keyword">FOREIGN</span> KEY student_FK;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> dbkeshe.student <span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> student_FK <span class="keyword">FOREIGN</span> KEY (CLASS_NO) <span class="keyword">REFERENCES</span> dbkeshe.class(CLASS_NO) <span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE <span class="keyword">ON</span> <span class="keyword">UPDATE</span> CASCADE;</span><br></pre></td></tr></table></figure>
我以为是DBeaver的问题，又在命令行里执行了一遍，还是会变回<code>RESTRICT</code>。</p>
<p>网上搜了一下，没有找到类似的情况发生过。</p>
<p>我又尝试把所有的外键约束删了，然后再重建，还是不行。</p>
<p>把所有的外键约束和索引删了，然后再重建，还是不行。</p>
<p>到最后还是没有找到原因。</p>
<p>我只好重建一个数据库，把旧数据库dump出来的SQL语句外键约束后面全部加上<code>ON DELETE CASCADE ON UPDATE CASCADE</code>。这回成功了。</p>
]]></content>
      <tags>
        <tag>MySQL</tag>
        <tag>踩坑记录</tag>
      </tags>
  </entry>
  <entry>
    <title>踩坑记录（2）</title>
    <url>/blog/2023/05/27/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95%EF%BC%882%EF%BC%89/</url>
    <content><![CDATA[<p>Web大作业要求提交网站代码，而博客的html在本地打开会加载不出来css和js。这是文件路径的问题。
<span id="more"></span></p>
<p>提交前把index.html文件里的</p>
<p><code>https://ruofancooh.github.io/blog/</code>和<code>/blog/</code></p>
<p>全替换成<code>./</code></p>
<p>再把所有子目录里html引用的文件地址替换成相应的相对地址就行了。</p>
<p>顺便说一下，怎么把博客放在github.io的子目录下：</p>
<ul>
<li><p>github新建一个名为blog的仓库，branch为gh-pages</p></li>
<li><p>更改hexo的_config.yml文件以下项：</p></li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">url:</span> <span class="string">https://ruofancooh.github.io/blog</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/blog/</span></span><br><span class="line"><span class="attr">eploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/ruofancooh/blog</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">gh-pages</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>踩坑记录</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
</search>
